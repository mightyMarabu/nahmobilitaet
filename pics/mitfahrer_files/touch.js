define("jquery/event/special/touch",["jquery","jquery/event/fix"],function(e){var t=e("html"),n="_specialTouchdrag",i="_specialTouchpinch",a="_specialTouchpinchInOut",o="_specialTouchswipe",r=function(){},s=function(){},l=function(e,t,n){return n&&Math.abs(e)<n?!1:e?e>=0?"in":"out":t},c=function(e,t,n){var i=Math.abs(e),a=Math.abs(t);return Math.abs(i-a)<=1||!(!n||i>n||a>n)?!1:i>a?0>e?"left":"right":0>t?"up":"down"},u=function(t,n){return(t[e.expando]||(t[e.expando]=++e.guid))+"."+(n.guid||(n.guid=++e.guid))},d=function(t,n){var i=3===t.nodeType?t.parentNode:t;return i===n||e.contains(n,i)},h=function(e,n,i,a,o){return h[o]=function(r){var s,l=r.touches,c="touchdrag"===e.type&&1===l.length&&d(r.originalTarget,i),u="touchpinch"===e.type&&2===l.length&&d(l[0].target,i)&&d(l[1].target,i);(c||u)&&(t.off("touchmove."+a,f[o]).off("touchend."+a,p[o]).off("touchcancel."+a,m[o]).on("touchmove."+a,f(e,n,i,a,o)).on("touchend."+a,p(e,n,i,a,o)).on("touchcancel."+a,m(e,n,i,a,o)),s=f[o],s.direction=!0,s.state="start",s.deltaT=r.timeStamp),c&&(s.startT=s.deltaT,s.startX=(s.deltaX=r.pageX)+0,s.startY=(s.deltaY=r.pageY)+0),u&&(s.delta=Math.sqrt(Math.pow(s.startX=(s.deltaX=Math.abs(l[0].pageX-l[1].pageX))+0,2)+Math.pow(s.startY=(s.deltaY=Math.abs(l[0].pageY-l[1].pageY))+0,2)),s.start=s.delta+0)},h[o]},f=function(e,t,n,i,a){return f[a]=function(i){var o,r,s,u,d,h,p,m=i.touches,g="touchdrag"===e.type,v="touchpinch"===e.type&&m.length>=2,b=f[a];g&&(o=i.dragState=b.state,r=i.dragDeltaT=-b.deltaT+(b.deltaT=i.timeStamp),s=i.dragDeltaX=-b.deltaX+(b.deltaX=i.pageX),u=i.dragDeltaY=-b.deltaY+(b.deltaY=i.pageY),d=i.dragDelta=Math.sqrt(Math.pow(s,2)+Math.pow(u,2)),p=b.direction,h=c(s,u)),v&&(i.pinchState=b.state,i.pinchDeltaT=-b.deltaT+(b.deltaT=i.timeStamp),i.pinchDeltaX=-b.deltaX+(b.deltaX=s=Math.abs(m[0].pageX-m[1].pageX)),i.pinchDeltaY=-b.deltaY+(b.deltaY=u=Math.abs(m[0].pageY-m[1].pageY)),i.pinchDelta=-b.delta+(b.delta=d=Math.sqrt(Math.pow(s,2)+Math.pow(u,2))),h=l(i.pinchDelta,p=b.direction)),(g||v)&&(i.type=e.type,i.target=n,i.data=e.data,b.state="while",b.direction=h&&p?p!==!0?h===p?h:!1:h:p,t.apply(n,arguments))},f[a]},p=function(n,i,r,s,u){return p[u]=function(d){if(f[u]){t.off("touchmove."+s,f[u]).off("touchend."+s,p[u]).off("touchcancel."+s,m[u]);var h,g,v,b,E,y,T="touchdrag"===n.type&&/^touch(end|cancel|drag)$/.test(d.type),C="touchpinch"===n.type&&/^touch(end|cancel)$/.test(d.type),O=f[u];delete f[u],delete p[u],delete m[u],T&&(d.dragState=O.state="stop",d.dragDeltaT=-O.deltaT+d.timeStamp,d.dragDeltaX=0,d.dragDeltaY=0,d.dragDelta=0),C&&(d.pinchState=O.state="stop",d.pinchDeltaT=-O.deltaT+d.timeStamp,d.pinchDeltaX=0,d.pinchDeltaY=0,d.pinchDelta=0),(T||C)&&(d.type=n.type,d.target=r,d.data=n.data,i.apply(r,arguments)),T&&s===o&&(delete d.dragState,h=d.dragDeltaT=-O.startT+d.timeStamp,g=d.dragDeltaX=-O.startX+O.deltaX,v=d.dragDeltaY=-O.startY+O.deltaY,y=O.direction,E=c(g,v,20),E&&y===E&&(d.type="touchswipe"+E,e(r).trigger(d))),C&&s===a&&(delete d.pinchState,h=d.pinchDeltaT=-O.startT+d.timeStamp,g=d.pinchDeltaX=-O.startX+O.deltaX,v=d.pinchDeltaY=-O.startY+O.deltaY,b=d.pinchDelta=-O.start+O.delta,E=l(b,y=O.direction,80),E&&y===E&&(d.type="touchpinch"+E,e(r).trigger(d)))}},p[u]},m=p;e.each({touchdrag:n,touchpinch:i},function(n,i){e.event.special[n]={setup:e.noop,add:function(t){var n=u(this,t);i=t.namespace===o?o:t.namespace===a?a:i,e(this).on("touchstart."+i,h(t,t.handler,this,i,n))},remove:function(n){var r=u(this,n);i=n.namespace===o?o:n.namespace===a?a:i,e(this).off("touchstart."+i,h[r]),delete h[r],t.off("touchmove."+i,f[r]),delete f[r],t.off("touchend."+i,p[r]),delete p[r],t.off("touchcancel."+i,m[r]),delete m[r]}}}),e.each({"in":a,out:a},function(t,n){e.event.special["touchpinch"+t]={setup:e.noop,add:function(){h[u(this,r)]||e(this).on("touchpinch."+n,r)}}}),e.each({up:o,right:o,down:o,left:o},function(t,n){e.event.special["touchswipe"+t]={setup:e.noop,add:function(){h[u(this,s)]||e(this).on("touchdrag."+n,s)}}});var g={},v="State DeltaT DeltaX DeltaY Delta".split(" ");return e.event.special.touchzoom={setup:e.noop,add:function(t){e(this).on("touchpinch."+i,g[u(this,t)]=function(e){for(var n=0,i=v.length;i>n;n++)e["zoom"+v[n]]=e["pinch"+v[n]],delete e["pinch"+v[n]];e.type="touchzoom",t.handler.apply(this,arguments)})},remove:function(t){var n=u(this,t);e(this).off("touchpinch."+i,g[n]),delete g[n]}},e});
//@ sourceMappingURL=touch.js.map