define("util/storage",["module","util/json","jquery","jquery/cookie"],function(e,t,a){var i=this,n={local:!1,session:!1},r={config:a.extend({namespace:""},e.config())};return a.each(["local","session"],function(e,o){var s=o+"Storage";try{n[o]=i[s]&&i[s].setItem}catch(l){}r[o+"Storage"]=function(e,l){if(e=r.config.namespace+e,void 0===l){var d=n[o]?i[s].getItem(e):a.cookie(o+":"+e);return void 0===d||null===d?null:t.decode(d)}return null===l?(n[o]?i[s].removeItem(e):a.cookie(o+":"+e,null,{path:"/",domain:document.domain,expires:-365}),this):(l=t.encode(l),n[o]?i[s].setItem(e,l):a.cookie(o+":"+e,l,{path:"/",domain:document.domain,expires:"localStorage"===o?365:void 0}),this)},r[o+"Clear"]=function(e){var t=new RegExp("^"+(n[o]?"":o+":")+(e?"":r.config.namespace),"");if(n[o])if(e)i[s].clear();else for(var l in i[s])t.test(l)&&i[s].removeItem(l);else document.cookie&&""!==document.cookie&&a.each(document.cookie.split(";"),function(e,i){t.test(i=a.trim(i))&&a.cookie(i.substr(0,i.indexOf("=")),null,{path:"/",domain:document.domain,expires:-365})});return this}}),r});
//@ sourceMappingURL=storage.js.map